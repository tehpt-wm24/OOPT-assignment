import java.time.LocalDate;
import java.time.format.DateTimeFormatter;
import java.text.DecimalFormat;

public class Invoice {
    private int invoiceId;
    private double amountPaid;
    private String paymentMethod;
    private LocalDate transactionDate;
    private String transactionStatus;
    private Reservation reservation;
    private static final DateTimeFormatter formatter = DateTimeFormatter.ofPattern("yyyy-MM-dd");

    public Invoice(int invoiceId, double amountPaid, String paymentMethod, LocalDate transactionDate, String transactionStatus, Reservation reservation) {
        this.invoiceId = invoiceId;
        this.amountPaid = amountPaid;
        this.paymentMethod = paymentMethod;
        this.transactionDate = transactionDate;
        this.transactionStatus = transactionStatus;
        this.reservation = reservation;
    }

    // Getter
    public int getInvoiceId() {
        return invoiceId;
    }

    public double getAmountPaid() {
        return amountPaid;
    }

    public String getPaymentMethod() {
        return paymentMethod;
    }

    public LocalDate getTransactionDate() {
        return transactionDate;
    }

    public String getTransactionDateToString() {
		return transactionDate.format(formatter);
	}

    public String getTransactionStatus() {
        return transactionStatus;
    }

    public Reservation getReservation() {
        return reservation;
    }

    // Setter
    public void setInvoiceId(int invoiceId) {
        this.invoiceId = invoiceId;
    }

    public void setAmountPaid(double amountPaid) {
        this.amountPaid = amountPaid;
    }

    public void setPaymentMethod(String paymentMethod) {
        this.paymentMethod = paymentMethod;
    }

    public void setTransactionDate(LocalDate transactionDate) {
        this.transactionDate = transactionDate;
    }

    public void setTransactionStatus(String transactionStatus) {
        this.transactionStatus = transactionStatus;
    }

    public void setReservation(Reservation reservation) {
        this.reservation = reservation;
    }

    public enum TransactionStatus {
        PAID, PENDING, FAILED
    }

    public enum PaymentMethod {
        TNG, CREDIT_CARD, DEBIT_CARD
    }

    public String toString() {
        DateTimeFormatter formatter = DateTimeFormatter.ofPattern("dd-MM-yyyy");
        DecimalFormat df = new DecimalFormat("0.00");
        return "Invoice Id: " + invoiceId + "\n" + "Amount Paid: " + df.format(amountPaid) + "\n" + "Payment Method: " + paymentMethod + "\n" + "Transaction Date: " + transactionDate.format(formatter) + "\n" + "Transaction Status: " + transactionStatus;
    }
}
